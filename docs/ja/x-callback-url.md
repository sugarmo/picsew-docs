## X-Callback-URLとは？

Picsewは[x-callback-url](http://x-callback-url.com/)プロトコルを実装しています。これは汎用的なURL Schemeプロトコルです。異なるアプリ間でのコミュニケーションを可能にします。[Workflow](https://workflow.is/)、[Launch Center Pro](https://contrast.co/launch-center-pro/)などのアプリがx-callback-urlをサポートしているため、Picsewもそれらとの連携をサポートしています。

PicsewのX-Callback-URLフォーマットは以下の通りです：

```
picsew://x-callback-url/[action]?[action parameters]&[x-callback parameters]
```

## アクション

### /scroll

指定された画像をスクロールショットステッチに使用します。

### /vert

指定された画像を垂直ステッチに使用します。

### /hori

指定された画像を水平ステッチに使用します。

## アクションパラメータ

- **in** *（必須）* 入力画像の取得方法を指定します。許可される値は`paste`、`latest`、`recent`です。`paste`の場合、クリップボードから画像を取得します。`latest`の場合、フォトアルバムから最新のN枚の画像を取得し、Nは別のパラメータ`count`によって決定されます。`recent`の場合、最新のスクリーンショットが自動的に検出されます。

- **count** `in=latest`の場合、これは必須パラメータで、取得する画像の枚数を指定します。

- **out** *（必須）* ステッチ結果の出力方法を指定します。許可される値は`copy`、`save`、`save_copy`です。`copy`の場合、結果をクリップボードにコピーします。`save`の場合、結果をフォトアルバムに保存します。`save_copy`の場合、結果を保存してコピーします。

- **watermark** *（オプション）* ウォーターマークを追加するかどうかを指定します。許可される値は`single`と`repeat`です。デフォルトではウォーターマークは追加されません。ウォーターマークのテキストと位置は、アプリのデフォルトウォーターマーク設定を使用します。デフォルト設定が適切に構成されていない場合、最終結果にウォーターマークは表示されません。`single`の場合、結果画像のデフォルト位置に単一のウォーターマークを追加します。`repeat`の場合、各画像のデフォルト位置にウォーターマークを追加します。

- **border** *（オプション）* ボーダーを追加するかどうかを指定します。許可される値は`inside`、`outside`、`all`です。デフォルトではボーダーは追加されません。`inside`の場合、結果画像の内側にボーダーを追加します。`outside`の場合、結果画像の外側にボーダーを追加します。`all`の場合、結果画像の内側と外側にボーダーを追加します。幅を指定したい場合は、最後に`_<0~100>`を追加できます。例：`inside_60`。

- **mockup** 利用不可、mockup2にアップグレードされました。

- **mockup2** *（オプション）* モックアップを追加するかどうかを指定します。許可される値については、「モックアップパラメータ」のドキュメントを参照してください。

- **clean_status** *（オプション）* ステータスバーをクリアする必要があるかどうかを指定します。`yes`の場合、ステータスバーが自動的にクリアされます。デフォルトではクリアされません。

- **remove_scrollbar** *（オプション）* スクロールバーを削除する必要があるかどうかを指定します。`yes`の場合、スクロールバーが自動的に削除されます。デフォルトでは削除されません。

- **delete_source** *（オプション）* 元の画像を削除する必要があるかどうかを指定します。`yes`の場合、元の画像が削除されます。デフォルトでは削除されません。

## 例

- 最新のスクリーンショットをスクロールショットステッチに使用し、自動的にステータスバーをクリアし、iPhone 14 Blueのモックアップを追加し、結果をフォトアルバムに保存してから、元の画像を削除します。

```
picsew://x-callback-url/scroll?in=recent&out=save&clean_status=yes&mockup2=iphone-14-blue&delete_source=yes
```

- フォトアルバムの最新3枚の画像を使用して垂直ステッチを行い、各画像にデフォルトウォーターマークを追加し、結果をクリップボードにコピーします。

```
picsew://x-callback-url/vert?in=latest&count=3&out=copy&watermark=repeat
```